var Mustache=typeof module!=="undefined"&&module.exports||{};(function(e){function a(e){return u.test(e)}function p(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return h[e]||e})}function d(e,t,n,r){r=r||"<template>";var i=t.split("\n"),s=Math.max(n-3,0),o=Math.min(i.length,n+3),u=i.slice(s,o);var a;for(var f=0,l=u.length;f<l;++f){a=f+s+1;u[f]=(a===n?" >> ":"    ")+u[f]}e.template=t;e.line=n;e.file=r;e.message=[r+":"+n,u.join("\n"),"",e.message].join("\n");return e}function v(e,t){var n=e.split(".");var r=n.length-1;var i=n[r];var s,o,u=t.length,a,f;while(u){f=t.slice(0);o=t[--u];a=0;while(a<r){o=o[n[a++]];if(o==null){break}f.push(o)}if(o&&i in o){s=o[i];break}}if(typeof s==="function"){s=s.call(f[f.length-1])}return s==null?"":s}function m(e,t,n,r,i){if(i){if(t==null||t===false||s(t)&&t.length===0){e(n())}}else if(s(t)){o(t,function(t){r.push(t);e(n());r.pop()})}else if(typeof t==="object"){r.push(t);e(n());r.pop()}else if(typeof t==="function"){var u=r[r.length-1];var a=function(e){return S(e,u)};e(t.call(u,n(),a)||"")}else if(t){e(n())}}function g(t,n){n=n||{};var r=n.tags||e.tags,i=r[0],s=r[r.length-1];var o=["var line = 1;","\ntry {",'\nsend("'];var u=[],l=false;var c=function(){if(!l&&!n.space){while(u.length){o.splice(u.pop(),1)}}else{u=[]}l=false};var h=function(e){return e==="."?"stack[stack.length - 1]":'find("'+e+'")'};var p=[],v,m,g;var y=function(e){r=f(e).split(/\s+/);m=r[0];g=r[r.length-1]};var b=function(e){o.push('");',v,'\nvar partial = partials["'+f(e)+'"];',"\nif (partial) {","\n  send(render(partial, stack[stack.length - 1], partials));","\n}",'\nsend("')};var w=function(e,r){var i=f(e);if(i===""){throw d(new Error("Section name may not be empty"),t,N,n.file)}p.push({name:i,inverted:r});o.push('");',v,"\nvar value = "+h(i)+";","\nvar callback = (function () {","\n  var buffer, send = function (chunk) { buffer.push(chunk); };","\n  return function () {","\n    buffer = [];",'\nsend("')};var E=function(e){w(e,true)};var S=function(e){var n=f(e);var r=p.length!=0&&p[p.length-1].name;if(!r||n!=r){throw d(new Error('Section named "'+n+'" was never opened'),t,N,file)}var i=p.pop();o.push('");','\n    return buffer.join("");',"\n  };","\n})();");if(i.inverted){o.push("\nsendSection(send,value,callback,stack,true);")}else{o.push("\nsendSection(send,value,callback,stack);")}o.push('\nsend("')};var x=function(e){o.push('");',v,"\nsend("+h(f(e))+");",'\nsend("')};var T=function(e){o.push('");',v,"\nsend(escapeHTML("+h(f(e))+"));",'\nsend("')};var N=1,C,k;for(var L=0,A=t.length;L<A;++L){if(t.slice(L,L+i.length)===i){L+=i.length;C=t.substr(L,1);v="\nline = "+N+";";m=i;g=s;switch(C){case"!":L++;k=null;break;case"=":L++;s="="+s;k=y;break;case">":L++;k=b;break;case"#":L++;k=w;break;case"^":L++;k=E;break;case"/":L++;k=S;break;case"{":s="}"+s;case"&":L++;l=true;k=x;break;default:l=true;k=T}var O=t.indexOf(s,L);if(O===-1){throw d(new Error('Tag "'+i+'" was not closed properly'),t,N,n.file)}var M=t.substring(L,O);if(k){k(M)}var _=0;while(~(_=M.indexOf("\n",_))){N++;_++}L=O+s.length-1;i=m;s=g}else{C=t.substr(L,1);switch(C){case'"':case"\\":l=true;o.push("\\"+C);break;case"\n":u.push(o.length);o.push("\\n");c();N++;break;default:if(a(C)){u.push(o.length)}else{l=true}o.push(C)}}}if(p.length!=0){throw d(new Error('Section "'+p[p.length-1].name+'" was not closed properly'),t,N,n.file)}c();o.push('");',"\nsend(null);","\n} catch (e) { throw {error: e, line: line}; }");var D=o.join("").replace(/send\(""\);\n/g,"");if(n.debug){if(typeof console!="undefined"&&console.log){console.log(D)}else if(typeof print==="function"){print(D)}}return D}function y(e,t){var n="view,partials,send,stack,find,escapeHTML,sendSection,render";var r=g(e,t);var i=new Function(n,r);return function(n,r,s){if(typeof r==="function"){s=r;r={}}r=r||{};var o=[];var u=s||function(e){o.push(e)};var a=[n];var f=function(e){return v(e,a)};try{i(n,r,u,a,f,p,m,S)}catch(l){throw d(l.error,e,l.line,t.file)}return o.join("")}}function w(){b={}}function E(e,t){t=t||{};if(t.cache!==false){if(!b[e]){b[e]=y(e,t)}return b[e]}return y(e,t)}function S(e,t,n,r){return E(e)(t,n,r)}e.name="mustache.js";e.version="0.5.0-dev";e.tags=["{{","}}"];e.parse=g;e.compile=E;e.render=S;e.clearCache=w;e.to_html=S;var t=Object.prototype.toString;var n=Array.isArray;var r=Array.prototype.forEach;var i=String.prototype.trim;var s;if(n){s=n}else{s=function(e){return t.call(e)==="[object Array]"}}var o;if(r){o=function(e,t,n){return r.call(e,t,n)}}else{o=function(e,t,n){for(var r=0,i=e.length;r<i;++r){t.call(n,e[r],r,e)}}}var u=/^\s*$/;var f;if(i){f=function(e){return e==null?"":i.call(e)}}else{var l,c;if(a("Â ")){l=/^\s+/;c=/\s+$/}else{l=/^[\s\xA0]+/;c=/[\s\xA0]+$/}f=function(e){return e==null?"":String(e).replace(l,"").replace(c,"")}}var h={"&":"&","<":"<",">":">",'"':""","'":"&#39;"};var b={}})(Mustache)